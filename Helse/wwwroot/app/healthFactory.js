app.factory("healthFactory",
    ["$http",
        "$q",
        function (
            $http,
            $q) {

            /**
             * Returns a list over stations in the area close to the position given.
             * 
             * @param {any} latitude
             * @param {any} longitude
             */
            function getStations(latitude, longitude) {

                var url = "api/app?latitude=" + latitude + "&longitude=" + longitude;

                return $http(
                    {
                        method: "GET",
                        url: url
                    }
                );
            }


            function getStationsDummy() {
                return $q.when([{ "OrganizationNumber": "973599577", "Name": "ASKER OG BÆRUM LEGEVAKT", "DisplayName": "Legevakten i Asker og Bærum", "LastChanged": "2012-06-28T16:25:13.82", "VisitAddressStreet": "Sogneprest Munthe-Kaas vei 100", "VisitAddressDescription": null, "VisitAddressPostNr": 1346, "VisitAddressPostName": "GJETTUM", "PostAddressStreet": null, "PostAddressDescription": null, "PostAddressPostNr": null, "PostAddressPostName": null, "Phone": "06780", "Fax": null, "Email": null, "Web": null, "MunicipalityCode": "0219", "MunicipalityName": "Bærum", "CountyCode": "02    ", "CountyName": "Akershus", "IsGovernmentCompany": null, "Latitude": 59.897579, "Longitude": 10.510863, "ServiceTypeCode": "KA02", "ServiceTypeName": "Legevakttjeneste", "ServiceTypeDisplayName": "Legevakt", "ValidFrom": "2012-06-15T00:00:00", "ValidTo": "8900-12-31T23:59:59", "CodeGroupId": "kommunale_helse_og_sosialtjenester", "AppliesToMunicipalityCodes": "0220 0219", "AppliesToCountyCodes": "02", "AppliesToMunicipalityNames": "Asker,Bærum", "OpeningHours": "0-10080", "OpeningHoursComment": "" }, { "OrganizationNumber": "986435794", "Name": "LEGEVAKTA I DRAMMENSREGIONEN IKS", "DisplayName": "Legevakta i Drammensregionen", "LastChanged": "2012-06-28T16:25:13.837", "VisitAddressStreet": "Rosenkrantzgata 17", "VisitAddressDescription": null, "VisitAddressPostNr": 3018, "VisitAddressPostName": "DRAMMEN", "PostAddressStreet": null, "PostAddressDescription": null, "PostAddressPostNr": null, "PostAddressPostName": null, "Phone": "32 86 21 10", "Fax": "32 86 21 20", "Email": "", "Web": "", "MunicipalityCode": "0602", "MunicipalityName": "Drammen", "CountyCode": "06    ", "CountyName": "Buskerud", "IsGovernmentCompany": null, "Latitude": 59.747611, "Longitude": 10.189496, "ServiceTypeCode": "KA02", "ServiceTypeName": "Legevakttjeneste", "ServiceTypeDisplayName": "Legevakt", "ValidFrom": "2012-06-15T00:00:00", "ValidTo": "8900-12-31T23:59:59", "CodeGroupId": "kommunale_helse_og_sosialtjenester", "AppliesToMunicipalityCodes": "0602 0626 0625 0713 0711", "AppliesToCountyCodes": "06 07", "AppliesToMunicipalityNames": "Drammen,Lier,Nedre Eiker,Sande,Svelvik", "OpeningHours": "0-10560", "OpeningHoursComment": "" }, { "OrganizationNumber": "889045272", "Name": "RINGERIKE KOMMUNE LEGEVAKT", "DisplayName": "Ringerike Interkommunale Legevakt", "LastChanged": "2014-05-16T04:52:50.9", "VisitAddressStreet": "Arnold Dybsjords vei 1", "VisitAddressDescription": null, "VisitAddressPostNr": 3511, "VisitAddressPostName": "HØNEFOSS", "PostAddressStreet": "Postboks 123 Sentrum", "PostAddressDescription": null, "PostAddressPostNr": 3502, "PostAddressPostName": "HØNEFOSS", "Phone": "32111111", "Fax": null, "Email": null, "Web": null, "MunicipalityCode": "0605", "MunicipalityName": "Ringerike", "CountyCode": "06    ", "CountyName": "Buskerud", "IsGovernmentCompany": null, "Latitude": 60.148724, "Longitude": 10.254056, "ServiceTypeCode": "KA02", "ServiceTypeName": "Legevakttjeneste", "ServiceTypeDisplayName": "Legevakt", "ValidFrom": "2012-06-15T00:00:00", "ValidTo": "8900-12-31T23:59:59", "CodeGroupId": "kommunale_helse_og_sosialtjenester", "AppliesToMunicipalityCodes": "0612 0532 0622 0623 0605 0621", "AppliesToCountyCodes": "05 06", "AppliesToMunicipalityNames": "Hole,Jevnaker,Krødsherad,Modum,Ringerike,Sigdal", "OpeningHours": "960-1920,2400-3360,3840-4800,5280-6240,6720-10560", "OpeningHoursComment": "15.00–24.00 hverdager + hele døgnet i helger og ved høytider – lege i beredskap som reiser på nødvendige hjemmebesøk eller hjelper til på legevakten." }, { "OrganizationNumber": "984630492", "Name": "OSLO KOMMUNE HELSEETATEN LEGEVAKTEN STORGATA", "DisplayName": "Oslo Legevakt Allmenn - Storgata", "LastChanged": "2014-05-16T04:46:28.05", "VisitAddressStreet": "Storgata 40", "VisitAddressDescription": null, "VisitAddressPostNr": 182, "VisitAddressPostName": "OSLO", "PostAddressStreet": null, "PostAddressDescription": null, "PostAddressPostNr": null, "PostAddressPostName": null, "Phone": "22932293 - kun medisinske spm", "Fax": "...", "Email": "postmottak@hel.oslo.kommune.no", "Web": "...", "MunicipalityCode": "0301", "MunicipalityName": "Oslo", "CountyCode": "03    ", "CountyName": "Oslo", "IsGovernmentCompany": null, "Latitude": 59.916875, "Longitude": 10.758758, "ServiceTypeCode": "KA02", "ServiceTypeName": "Legevakttjeneste", "ServiceTypeDisplayName": "Legevakt", "ValidFrom": "2008-03-26T00:00:00", "ValidTo": "8900-12-31T23:59:59", "CodeGroupId": "kommunale_helse_og_sosialtjenester", "AppliesToMunicipalityCodes": "0301", "AppliesToCountyCodes": "03", "AppliesToMunicipalityNames": "Oslo", "OpeningHours": "0-10080", "OpeningHoursComment": "Ved akutt krise/overgrep/voldtekt: ring 23 48 70 90, Administrasjon: Ring 02180(hverdager 08.00-15.35), Fakturatelefon: Ring 95450195(hverdager 09.00-11.00)" }, { "OrganizationNumber": "990823510", "Name": "ØVRE EIKER KOMMUNE LEGEVAKT", "DisplayName": "ØVRE EIKER KOMMUNE LEGEVAKT", "LastChanged": "2014-10-02T05:24:32.38", "VisitAddressStreet": "Skotselvveien 29", "VisitAddressDescription": null, "VisitAddressPostNr": 3300, "VisitAddressPostName": "HOKKSUND", "PostAddressStreet": "Postboks 76", "PostAddressDescription": null, "PostAddressPostNr": 3301, "PostAddressPostName": "HOKKSUND", "Phone": "32251717", "Fax": null, "Email": null, "Web": null, "MunicipalityCode": "0624", "MunicipalityName": "Øvre Eiker", "CountyCode": "06    ", "CountyName": "Buskerud", "IsGovernmentCompany": null, "Latitude": 59.770014, "Longitude": 9.899670, "ServiceTypeCode": "KA02", "ServiceTypeName": "Legevakttjeneste", "ServiceTypeDisplayName": "Legevakt", "ValidFrom": "2012-06-15T00:00:00", "ValidTo": "8900-12-31T23:59:59", "CodeGroupId": "kommunale_helse_og_sosialtjenester", "AppliesToMunicipalityCodes": "0624", "AppliesToCountyCodes": "06", "AppliesToMunicipalityNames": "Øvre Eiker", "OpeningHours": "960-1920,2400-3360,3840-4800,5280-6240,6720-10560", "OpeningHoursComment": "" }, { "OrganizationNumber": "888528202", "Name": "NITTEDAL KOMMUNE LEGEVAKTEN", "DisplayName": "Nittedal legevakt", "LastChanged": "2014-05-16T04:43:58.68", "VisitAddressStreet": "Moveien 1", "VisitAddressDescription": null, "VisitAddressPostNr": 1482, "VisitAddressPostName": "NITTEDAL", "PostAddressStreet": "Postboks 63", "PostAddressDescription": null, "PostAddressPostNr": 1483, "PostAddressPostName": "HAGAN", "Phone": "67 07 15 00", "Fax": null, "Email": null, "Web": null, "MunicipalityCode": "0233", "MunicipalityName": "Nittedal", "CountyCode": "02    ", "CountyName": "Akershus", "IsGovernmentCompany": null, "Latitude": 60.042932, "Longitude": 10.881798, "ServiceTypeCode": "KA02", "ServiceTypeName": "Legevakttjeneste", "ServiceTypeDisplayName": "Legevakt", "ValidFrom": "2012-06-15T00:00:00", "ValidTo": "8900-12-31T23:59:59", "CodeGroupId": "kommunale_helse_og_sosialtjenester", "AppliesToMunicipalityCodes": "0233", "AppliesToCountyCodes": "02", "AppliesToMunicipalityNames": "Nittedal", "OpeningHours": "960-1860,2400-3300,3840-4740,5280-6180,6720-10500", "OpeningHoursComment": "" }, { "OrganizationNumber": "978633897", "Name": "FOLLO LEGEVAKT IKS", "DisplayName": "Follo legevakt", "LastChanged": "2014-04-11T03:44:38.43", "VisitAddressStreet": "Vardåsveien 3", "VisitAddressDescription": null, "VisitAddressPostNr": 1400, "VisitAddressPostName": "SKI", "PostAddressStreet": null, "PostAddressDescription": null, "PostAddressPostNr": null, "PostAddressPostName": null, "Phone": "6487 1930", "Fax": "6487 0613", "Email": "post@follolegevakt.no", "Web": "", "MunicipalityCode": "0213", "MunicipalityName": "Ski", "CountyCode": "02    ", "CountyName": "Akershus", "IsGovernmentCompany": true, "Latitude": 59.726416, "Longitude": 10.843670, "ServiceTypeCode": "KA02", "ServiceTypeName": "Legevakttjeneste", "ServiceTypeDisplayName": "Legevakt", "ValidFrom": "2012-06-14T22:00:00", "ValidTo": "8900-12-31T23:59:59", "CodeGroupId": "kommunale_helse_og_sosialtjenester", "AppliesToMunicipalityCodes": "0229 0215 0216 0217 0213 0214", "AppliesToCountyCodes": "02", "AppliesToMunicipalityNames": "Enebakk,Frogn,Nesodden,Oppegård,Ski,Ås", "OpeningHours": "1080-1860,2520-3300,3960-4740,5400-6180,6840-10560", "OpeningHoursComment": "" }, { "OrganizationNumber": "974706490", "Name": "AHUS SOMATIKK NORDBYHAGEN", "DisplayName": "Lørenskog skadelegevakt", "LastChanged": "2012-06-28T16:25:13.82", "VisitAddressStreet": "Sykehusveien 27", "VisitAddressDescription": null, "VisitAddressPostNr": 1474, "VisitAddressPostName": "NORDBYHAGEN", "PostAddressStreet": null, "PostAddressDescription": null, "PostAddressPostNr": null, "PostAddressPostName": null, "Phone": "67966100", "Fax": null, "Email": null, "Web": null, "MunicipalityCode": "0230", "MunicipalityName": "Lørenskog", "CountyCode": "02    ", "CountyName": "Akershus", "IsGovernmentCompany": null, "Latitude": 59.933313, "Longitude": 10.995738, "ServiceTypeCode": "KA02", "ServiceTypeName": "Legevakttjeneste", "ServiceTypeDisplayName": "Legevakt", "ValidFrom": "2011-06-24T00:00:00", "ValidTo": "8900-12-31T23:59:59", "CodeGroupId": "kommunale_helse_og_sosialtjenester", "AppliesToMunicipalityCodes": "0230", "AppliesToCountyCodes": "02", "AppliesToMunicipalityNames": "Lørenskog", "OpeningHours": "480-1380,1920-2820,3360-4260,4800-5700,6240-7140,7680-8580,9120-10020", "OpeningHoursComment": "Åpent alle dager kl 08.00-23.00." }, { "OrganizationNumber": "974555638", "Name": "NEDRE ROMERIKE LEGEVAKT", "DisplayName": "NEDRE ROMERIKE LEGEVAKT OG KOMMUNAL AKUTT DØGNENHET", "LastChanged": "2014-05-16T04:43:13.28", "VisitAddressStreet": "Dampsagveien 4", "VisitAddressDescription": null, "VisitAddressPostNr": 2000, "VisitAddressPostName": "LILLESTRØM", "PostAddressStreet": "Postboks 313", "PostAddressDescription": null, "PostAddressPostNr": 2001, "PostAddressPostName": "LILLESTRØM", "Phone": "66936693", "Fax": null, "Email": null, "Web": null, "MunicipalityCode": "0231", "MunicipalityName": "Skedsmo", "CountyCode": "02    ", "CountyName": "Akershus", "IsGovernmentCompany": null, "Latitude": 59.953438, "Longitude": 11.040046, "ServiceTypeCode": "KA02", "ServiceTypeName": "Legevakttjeneste", "ServiceTypeDisplayName": "Legevakt", "ValidFrom": "2012-06-15T00:00:00", "ValidTo": "8900-12-31T23:59:59", "CodeGroupId": "kommunale_helse_og_sosialtjenester", "AppliesToMunicipalityCodes": "0229 0227 0230 0228 0231", "AppliesToCountyCodes": "02", "AppliesToMunicipalityNames": "Enebakk,Fet,Lørenskog,Rælingen,Skedsmo", "OpeningHours": "930-1920,2370-3360,3810-4800,5250-6240,6690-10560", "OpeningHoursComment": "Allmennmedisinsk legevakt for Lørenskog.  For postnr 1911 Flateby hverdager kl 18.00-08.00. I Enebakk kommune skal innbyggere i Kirkebygda og Ytre Enebakk henvende seg til Follo legevakt. Innbyggere på Flateby skal henvende seg til Nedre Romerike legevakt. " }, { "OrganizationNumber": "976642899", "Name": "FLESBERG KOMMUNE HELSETJENESTER", "DisplayName": "Legene i Flesberg", "LastChanged": "2014-09-18T04:06:32.42", "VisitAddressStreet": null, "VisitAddressDescription": null, "VisitAddressPostNr": null, "VisitAddressPostName": null, "PostAddressStreet": null, "PostAddressDescription": null, "PostAddressPostNr": null, "PostAddressPostName": null, "Phone": "81570420", "Fax": null, "Email": null, "Web": null, "MunicipalityCode": "0631", "MunicipalityName": "Flesberg", "CountyCode": "06    ", "CountyName": "Buskerud", "IsGovernmentCompany": null, "Latitude": 59.837014, "Longitude": 9.580279, "ServiceTypeCode": "KA02", "ServiceTypeName": "Legevakttjeneste", "ServiceTypeDisplayName": "Legevakt", "ValidFrom": "2012-06-15T00:00:00", "ValidTo": "8900-12-31T23:59:59", "CodeGroupId": "kommunale_helse_og_sosialtjenester", "AppliesToMunicipalityCodes": "0631", "AppliesToCountyCodes": "06", "AppliesToMunicipalityNames": "Flesberg", "OpeningHours": "540-900,1980-2340,3420-3780,4860-5220,6300-6660", "OpeningHoursComment": "Telefonen svarer hele døgnet - også i helgene" }]);
            }

            return {
                getStations: getStations
            }
        }]
);